{"version":3,"sources":["app.js"],"names":["window","$","jQuery","require","fs","ipcRenderer","electron","remote","dialog","Store","store","populateFontLists","activePath","disabledPath","get","html","addItemsToList","fadeIn","updateLists","hide","remove","prop","oldPath","newPath","list","readdir","err","files","total","file","item","statSync","isDirectory","startsWith","append","move","count","callback","rename","code","showErrorBox","deleteItems","updateButtonState","val","show","active","length","disabled","deleteSelected","fadeOut","counter","items","each","index","value","this","data","exportSelected","selected","message","$this","push","send","updateAll","setDragArea","id","dragArea","document","getElementById","draggedItems","location","ondragover","addClass","ondragleave","removeClass","ondragend","ondrop","event","preventDefault","dataTransfer","path","on","which","name","toggleClass","click","mouseup","e","focus","showMessageBox","detail","buttons","Notification","body","empty","dir","bind","searchString","text","toUpperCase","indexOf","hasClass"],"mappings":"AAAA,aAEAA,OAAOC,EAAID,OAAOE,OAASC,QAAS,UACpC,MAAMC,GAAKD,QAAS,aACdE,YAACA,aAAeF,QAAS,YACzBG,SAAWH,QAAQ,YACnBI,OAASD,SAASC,OAClBC,OAASD,OAAOC,OAChBC,MAAQN,QAAS,kBACjBO,MAAQ,IAAID,MAQlB,SAASE,oBAER,IAAIC,WAACA,EAAUC,aAAEA,GAAgBH,MAAMI,IAAI,mBAE3Cb,EAAE,gBAAgBc,KAAKH,GACvBX,EAAE,kBAAkBc,KAAKF,GAEzBG,eAAgBJ,EAAYC,EAAc,UAC1CG,eAAgBH,EAAcD,EAAY,YAE1CX,EAAE,mCAAmCgB,OAAO,QAO7C,SAASC,cAERjB,EAAE,kCAAkCc,KAAK,IAAII,OAC7ClB,EAAE,sCAAsCmB,SACxCnB,EAAE,eAAeoB,KAAK,YAAY,GAElCV,oBAQD,SAASK,eAAgBM,EAASC,EAASC,GAE1CpB,GAAGqB,QAASH,EAAS,CAAEI,EAAKC,KAE3B,GAAKD,EAAM,MAAOA,EAElB,IAAIE,EAAQ,EAEZ,IAAM,IAAIC,KAAQF,EAAQ,CAEzB,IAAIG,EAKFA,EAJU1B,GAAG2B,SAAUT,EAAUO,GAEzBG,cAED,SAIA,OAGHH,EAAKI,WAAW,OAEpBhC,MAAMuB,UAAaU,qBAAqBJ,iBAAoBD,oBAAuBP,IAAUO,oBAAuBN,IAAUM,iBAAoBC,aAAgBD,WAAcA,gBAEhLD,KAIH3B,MAAMuB,WAAcT,KAAMa,KAS5B,SAASO,KAAMb,EAASC,EAASa,EAAOR,EAAOS,GAE9CjC,GAAGkC,OAAOhB,EAASC,EAAS,SAAUG,GAErC,GAAIA,EAEH,OAAQA,EAAIa,MAEX,IAAK,YAEJ/B,OAAOgC,aACN,2CACA,qGAGF,MAEA,IAAK,SAEJhC,OAAOgC,aACN,2CACA,iLAGF,MAEA,QAEAhC,OAAOgC,aACN,2CAA4Cd,EAAIa,MAK9CH,EAAQ,IAAOR,GAEnBS,MASH,SAASI,YAAanB,EAASc,EAAOR,EAAOS,GAE5CjC,GAAGgB,OAAOE,EAAS,SAAUI,GAExBA,GAECA,EAAIa,MAEP/B,OAAOgC,aACN,6CAA8Cd,EAAIa,MAKhDH,EAAQ,IAAOR,GAEnBS,MASH,SAASK,oBAERzC,EAAE,WAAW0C,IAAI,IACjB1C,EAAE,SAAS2C,OAEX,IAAIC,EAAU5C,EAAE,4BAA4B6C,OAC3CC,EAAY9C,EAAE,8BAA8B6C,OAEzCD,EAASE,EAAW,EAEvB9C,EAAE,eAAeoB,KAAK,YAAY,GAIlCpB,EAAE,eAAeoB,KAAK,YAAY,GAG/BwB,EAAS,EAEZ5C,EAAE,iBAAiBc,KAAM8B,GAASD,OAIlC3C,EAAE,iBAAiBc,KAAK,IAAII,OAGzB4B,EAAW,EAEd9C,EAAE,mBAAmBc,KAAMgC,GAAWH,OAItC3C,EAAE,mBAAmBc,KAAK,IAAII,OA6BhC,SAAS6B,iBAER/C,EAAE,mCAAmCgD,QAAQ,QAE7C,IAAIC,EAAU,EACbC,EAAQlD,EAAE,wDAEXkD,EAAMC,KAAK,SAAUC,EAAOC,GAI3Bb,YAFcxC,EAAEsD,MAAMC,KAAK,WAELN,IAAWC,EAAML,OAAQ5B,eAQjD,SAASuC,iBAER,IAAIC,EAAWzD,EAAE,wDAChB0D,EAAU,GAEXD,EAASN,KAAM,WAEd,IAAIQ,EAAQ3D,EAAEsD,MACdI,EAAQE,KAAM,CAAED,EAAMJ,KAAK,QAASI,EAAMJ,KAAK,eAGhDnD,YAAYyD,KAAK,cAAeH,GAOjC,SAASI,YAER9D,EAAE,mCAAmCgD,QAAQ,QAE7C,IAAIC,EAAU,EACbC,EAAQlD,EAAE,wDAEXkD,EAAMC,KAAK,SAAUC,EAAOC,GAK3BnB,KAHclC,EAAEsD,MAAMC,KAAK,WAChBvD,EAAEsD,MAAMC,KAAK,WAEAN,IAAWC,EAAML,OAAQ5B,eAmMnD,SAAS8C,YAAaC,GAErB,IAAIC,EAAWC,SAASC,eAAgBH,GAEpCI,EAAe,CAClBC,SAAYL,EACZzC,KAAQ,IAGT0C,EAASK,WAAa,MAErBtE,EAAGiE,GAAWM,SAAS,aAChB,IAGRN,EAASO,YAAc,MAEtBxE,EAAGiE,GAAWQ,YAAY,aACnB,IAGRR,EAASS,UAAY,MAEpB1E,EAAGiE,GAAWQ,YAAY,aACnB,IAGRR,EAASU,OAAS,CAACC,IAElBA,EAAMC,iBACN7E,EAAGiE,GAAWQ,YAAY,YAI1B,IAAK,IAAI5C,KAAQ+C,EAAME,aAAapD,MAEnC0C,EAAa7C,KAAKqC,KAAM/B,EAAKkD,MAG9B3E,YAAYyD,KAAK,SAAUO,GAC3BA,EAAa7C,KAAO,KA3etBb,oBA0LAV,EAAE,QAAQgF,GAAG,UAAW,qCAAsC,SAASJ,GAEtE,GAAoB,IAAhBA,EAAMK,MAAc,CAGvB,IAAIC,EAAOlF,EAAEsD,MAAMC,KAAK,QACvBwB,EAAO/E,EAAEsD,MAAMC,KAAK,WAErBnD,YAAYyD,KAAK,iBAAkB,CAACqB,EAAMH,SAI1C/E,EAAEsD,MAAM6B,YAAY,YACpB1C,sBA8DFzC,EAAE,eAAeoF,MAAO,KAEvBtB,cAOD9D,EAAE,gBAAgBqF,QAAUC,IAE3BA,EAAET,iBACFzE,YAAYyD,KAAK,mBAAoB,YAGtC7D,EAAE,kBAAkBqF,QAAUC,IAE7BA,EAAET,iBACFzE,YAAYyD,KAAK,mBAAoB,cAOtCzD,YAAY4E,GAAG,aAAc,CAACJ,EAAOlB,KAEpC1D,EAAE,IAAM0D,EAAU,YAAYa,SAAS,YACvC9B,sBAGDrC,YAAY4E,GAAG,eAAgB,CAACJ,EAAOlB,KAEtC1D,EAAE,IAAM0D,EAAU,YAAYe,YAAY,YAC1ChC,sBAGDrC,YAAY4E,GAAG,mBAAoB,CAACJ,EAAOlB,KAE1C1D,EAAE,IAAM0D,EAAU,YAAYyB,YAAY,YAC1C1C,sBAGDrC,YAAY4E,GAAG,OAAQ,KAEtBhF,EAAE,WAAWuF,UAGdnF,YAAY4E,GAAG,eAAgB,KAE1BhF,EAAE,eAAeoB,KAAK,YAEzBb,OAAOgC,aACN,wBACA,2DAKDuB,cAIF1D,YAAY4E,GAAG,eAAgB,KAEfhF,EAAE,wDAEJ6C,OAAS,EAQJ,IANFtC,OAAOiF,eAAe,CACjC9B,QAAS,sDACT+B,OAAQ,oCACRC,QAAS,CAAC,KAAK,aAKlB3C,iBAKDxC,OAAOgC,aACN,wBACA,sFAKHnC,YAAY4E,GAAG,gBAAiB,CAACJ,EAAOlB,KAEvClB,YAAakB,EAAS,EAAG,EAAGzC,eAG7Bb,YAAY4E,GAAG,eAAgB,KAEfhF,EAAE,wDAEJ6C,OAAS,EAErBW,iBAIAjD,OAAOgC,aACN,wBACA,oFAKHnC,YAAY4E,GAAG,YAAa,CAACJ,EAAOlB,KAEhB,IAAIiC,aAAa,mBAAoB,CACvDC,kDAAmDlC,QAKrDtD,YAAY4E,GAAG,gBAAiB,KAET,IAAIW,aAAa,mBAAoB,CAC1DC,KAAM,mDAIRxF,YAAY4E,GAAG,YAAa,CAACJ,EAAOlB,KAEnCzC,cAEmB,IAAI0E,aAAa,mBAAoB,CACvDC,0CAA2ClC,QAK7CtD,YAAY4E,GAAG,gBAAiB,KAE/B/D,cAEsB,IAAI0E,aAAa,mBAAoB,CAC1DC,KAAM,mDAIRxF,YAAY4E,GAAG,cAAe,KAE7BhF,EAAE,sCAAsCmB,SACxCnB,EAAE,eAAeoB,KAAK,YAAY,GAClCV,sBAGDN,YAAY4E,GAAG,SAAU,KAExB/D,gBAMDb,YAAY4E,GAAG,gBAAiB,CAACJ,EAAOlB,KAEvC1D,EAAE,YAAYc,sIAAsI4C,wBAA8B1C,OAAO,UAG1LZ,YAAY4E,GAAG,eAAgB,CAACJ,EAAOlB,KAEtC,GAAgB,uBAAZA,EAAmC,CAEtC1D,EAAE,sCAAsCmB,SACxCnB,EAAE,eAAeoB,KAAK,YAAY,GAClCV,oBACAV,EAAE,YAAYgD,QAAQ,QAAQ6C,QAE9B,IAAIC,EAAMrF,MAAMI,IAAI,8BAEA,IAAI8E,aAAa,mBAAoB,CACxDC,iBAAkBlC,2BAAiCoC,WAKpD9F,EAAE,YAAYgD,QAAQ,QAAQ6C,UAoDhC9B,YAAa,cACbA,YAAa,eAQb/D,EAAE,WAAW+F,KAAK,QAAS,WAE1B,IAAIC,EAAehG,EAAEsD,MAAMZ,MAE3B1C,EAAE,SAASmD,KAAK,SAASC,EAAOC,GAEbrD,EAAEqD,GAAO4C,OACZC,cAAcC,QAAQH,EAAaE,gBAAkB,EAEnElG,EAAEqD,GAAOV,OAIL3C,EAAEqD,GAAO+C,SAAS,aAErBpG,EAAEqD,GAAOnC","file":"../app.min.js","sourcesContent":["'use strict'\n\nwindow.$ = window.jQuery = require( 'jquery' )\nconst fs = require( 'fs-extra' )\nconst {ipcRenderer} = require( 'electron' )\nconst electron = require(\"electron\")\nconst remote = electron.remote\nconst dialog = remote.dialog\nconst Store = require( 'electron-store' )\nconst store = new Store()\n\npopulateFontLists()\n\n\n\n//note(@duncanmid): populate font lists\n\nfunction populateFontLists() {\n\t\n\tlet {activePath, disabledPath} = store.get('fontDirectories')\n\t\n\t$('#active-menu').html(activePath)\n\t$('#disabled-menu').html(disabledPath)\n\t\n\taddItemsToList(\tactivePath, disabledPath, 'active' )\n\taddItemsToList( disabledPath, activePath, 'disabled' )\n\t\n\t$('#left-panel ul, #right-panel ul').fadeIn('fast')\n}\n\n\n\n//note(@duncanmid): update lists\n\nfunction updateLists() {\n\t\t\n\t$('#active-count, #disabled-count').html('').hide()\n\t$('#active-list li, #disabled-list li').remove()\n\t$('#update-all').prop('disabled', true)\n\t\n\tpopulateFontLists()\n\t\n}\n\n\n\n//note(@duncanmid): add items to lists\n\nfunction addItemsToList( oldPath, newPath, list) {\n\t\n\tfs.readdir( oldPath, ( err, files ) => {\n\t\t\n\t\tif ( err ) throw  err\n\t\t\n\t\tlet total = 0\n\t\t\n\t\tfor ( let file of files ) {\n\t\t\t\n\t\t\tlet item\n\t\t\tlet stats = fs.statSync( oldPath + file )\n\t\t\t\n\t\t\tif( stats.isDirectory() ) {\n\t\t\t\t\t\n\t\t\t\t\titem = 'folder'\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t\n\t\t\t\t\titem = 'file'\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( !file.startsWith('.') ) {\n\t\t\t\t\t\t\n\t\t\t\t\t$(`#${list}-list`).append(`<li class=\"${item}\" data-name=\"${file}\" data-oldpath=\"${oldPath}${file}\" data-newpath=\"${newPath}${file}\" data-type=\"${item}\" title=\"${file}\"><div>${file}</div></li>`)\n\t\t\t\t\t\n\t\t\t\t\ttotal++\n\t\t\t\t}\n\t\t}\n\t\t\n\t\t$(`#${list}-total`).html( total )\n\t\t\n\t})\n}\n\n\n\n//note(@duncanmid): move selected files or folders\n\nfunction move( oldPath, newPath, count, total, callback ) {\t\n\t\n\tfs.rename(oldPath, newPath, function (err) {\n\t\t\n\t\tif (err) {\n\t\t\t\n\t\t\tswitch( err.code ) {\n\t\t\t\t\n\t\t\t\tcase 'ENOTEMPTY':\n\t\t\t\t\t\n\t\t\t\t\tdialog.showErrorBox(\n\t\t\t\t\t\t'An error occured whilst moving the fonts',\n\t\t\t\t\t\t'Some items could not be moved - you may have duplicate items in your Active and Disabled folders.'\n\t\t\t\t\t)\n\t\t\t\t\t\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase 'ENOENT':\n\t\t\t\t\t\n\t\t\t\t\tdialog.showErrorBox(\n\t\t\t\t\t\t'An error occured whilst moving the fonts',\n\t\t\t\t\t\t'Make sure the paths for the Active and Disabled directories are correctly set. If you don\\'t have a \"Fonts Disabled\" folder in your home Library, you may need to create one.'\n\t\t\t\t\t)\n\t\t\t\t\t\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tdefault:\n\t\t\t\t\n\t\t\t\tdialog.showErrorBox(\n\t\t\t\t\t'An error occured whilst moving the fonts', err.code\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\t\n\t\tif( (count + 1) === total ) {\n\t\t\t\n\t\t\tcallback()\n\t\t}\n\t})\n}\n\n\n\n//note(@duncanmid): delete items\n\nfunction deleteItems( oldPath, count, total, callback ) {\n\t\n\tfs.remove(oldPath, function (err) {\n\t\t\n\t\tif (err) {\n\t\t\t\n\t\t\tif (err.code) {\n\t\t\t\t\n\t\t\t\tdialog.showErrorBox(\n\t\t\t\t\t'An error occured whilst deleting the fonts', err.code\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\t\n\t\tif( (count + 1) === total ) {\n\t\t\t\n\t\t\tcallback()\n\t\t}\n\t})\n}\n\n\n\n//note(@duncanmid): update fonts button state\n\nfunction updateButtonState() {\n\t\n\t$('#search').val('')\n\t$('ul li').show()\n\t\n\tlet active\t\t= $('#active-list li.selected').length,\n\t\tdisabled \t= $('#disabled-list li.selected').length\n\t\n\tif( active + disabled > 0 ) {\n\t\t\n\t\t$('#update-all').prop('disabled', false)\n\t\n\t} else {\n\t\t\n\t\t$('#update-all').prop('disabled', true)\n\t}\n\t\n\tif( active > 0 ) {\n\t\t\n\t\t$('#active-count').html( active ).show()\n\t\n\t} else {\n\t\t\n\t\t$('#active-count').html('').hide()\n\t}\n\t\n\tif( disabled > 0 ) {\n\t\t\n\t\t$('#disabled-count').html( disabled ).show()\n\t\n\t} else {\n\t\t\n\t\t$('#disabled-count').html('').hide()\n\t}\n}\n\n\n\n//note(@duncanmid): on click list item\n\n$('body').on('mouseup', '#active-list li, #disabled-list li', function(event) {\n\t\n\tif( event.which === 3 ) {\n\n\t\t\n\t\tvar name = $(this).data('name'),\n\t\t\tpath = $(this).data('oldpath')\n\t\t\n\t\tipcRenderer.send('show-font-menu', [name, path] )\n\t\t\n\t} else {\n\t\t\n\t\t$(this).toggleClass('selected')\n\t\tupdateButtonState()\n\t}\n})\n\n\n\n//note(@duncanmid): delete selected\n\nfunction deleteSelected() {\n\t\n\t$('#left-panel ul, #right-panel ul').fadeOut('fast')\n\t\n\tvar counter = 0,\n\t\titems = $('#active-list li.selected, #disabled-list li.selected')\n\t\n\titems.each(function (index, value) {\n\t\t\n\t\tvar oldPath = $(this).data('oldpath')\n\t\t\n\t\tdeleteItems( oldPath, counter++, items.length, updateLists )\n\t})\n}\n\n\n\n//note(@duncanmid): export selected\n\nfunction exportSelected() {\n\t\n\tvar selected = $('#active-list li.selected, #disabled-list li.selected'),\n\t\tmessage = []\n\t\n\tselected.each( function() {\n\t\t\n\t\tvar $this = $(this)\n\t\tmessage.push( [ $this.data('name') ,$this.data('oldpath') ] )\n\t})\n\t\n\tipcRenderer.send('export-list', message)\n}\n\n\n\n//note(@duncanmid): update all\n\nfunction updateAll() {\n\t\n\t$('#left-panel ul, #right-panel ul').fadeOut('fast')\n\t\n\tvar counter = 0,\n\t\titems = $('#active-list li.selected, #disabled-list li.selected')\n\t\t\n\titems.each(function (index, value) {\n\t\t\n\t\tvar oldPath = $(this).data('oldpath'),\n\t\t\tnewPath = $(this).data('newpath')\n\t\t\n\t\tmove( oldPath, newPath, counter++, items.length, updateLists )\n\t})\n}\n\n\n$('#update-all').click( () => {\n\t\n\tupdateAll()\n})\n\n\n\n//note(@duncanmid): open font folder menus\n\n$('#active-menu').mouseup( (e) => {\n\t\n\te.preventDefault()\n\tipcRenderer.send('show-folder-menu', 'active')\n})\n\n$('#disabled-menu').mouseup( (e) => {\n\t\n\te.preventDefault()\n\tipcRenderer.send('show-folder-menu', 'disabled')\n})\n\n\n\n//note(@duncanmid): list-menu commands\n\nipcRenderer.on('select-all', (event, message) => {\n\t\n\t$('#' + message + '-list li').addClass('selected')\n\tupdateButtonState()\n})\n\nipcRenderer.on('deselect-all', (event, message) => {\n\t\n\t$('#' + message + '-list li').removeClass('selected')\n\tupdateButtonState()\n})\n\nipcRenderer.on('toggle-selection', (event, message) => {\n\t\n\t$('#' + message + '-list li').toggleClass('selected')\n\tupdateButtonState()\n})\n\nipcRenderer.on('find', () => {\n\t\n\t$('#search').focus()\n})\n\nipcRenderer.on('update-lists', () => {\n\t\n\tif( $('#update-all').prop('disabled') ) {\n\t\n\t\tdialog.showErrorBox(\n\t\t\t'No fonts are selected',\n\t\t\t'Select the fonts you would like to activate or disable.'\n\t\t)\n\t\n\t} else {\n\t\n\t\tupdateAll()\n\t}\n})\n\nipcRenderer.on('delete-fonts', () => {\n\n\tvar selected = $('#active-list li.selected, #disabled-list li.selected')\n\t\n\tif( selected.length > 0 ) {\n\t\t\n\t\tvar response = dialog.showMessageBox({\t\n\t\t\t\t\t\tmessage: 'Are you sure you want to delete the selected fonts?',\n\t\t\t\t\t\tdetail: 'This operation is not reversable.',\n\t\t\t\t\t\tbuttons: ['OK','Cancel']\n\t\t\t\t\t})\n\t\t\n\t\tif( response === 0 ) {\n\t\t\n\t\t\tdeleteSelected()\n\t\t}\n\t\n\t} else {\n\t\t\n\t\tdialog.showErrorBox(\n\t\t\t'No fonts are selected',\n\t\t\t'Select fonts from the Active and Disabled lists to delete them from your system.'\n\t\t)\n\t}\n})\n\nipcRenderer.on('delete-single', (event, message) => {\n\t\n\tdeleteItems( message, 0, 1, updateLists );\n})\n\nipcRenderer.on('export-fonts', () => {\n\t\n\tvar selected = $('#active-list li.selected, #disabled-list li.selected')\n\t\n\tif( selected.length > 0 ) {\n\t\t\n\t\texportSelected()\n\t\n\t} else {\n\t\t\n\t\tdialog.showErrorBox(\n\t\t\t'No fonts are selected',\n\t\t\t'Select fonts from the Active and Disabled lists to export them to the Desktop.'\n\t\t)\n\t}\n})\n\nipcRenderer.on('export-ok', (event, message) => {\n\t\n\tlet fontExportOk = new Notification('MDG Font Manager', {\n\t\tbody: `The selected fonts have been exported to: ${message}`\n\t})\n})\n\n\nipcRenderer.on('export-failed', () => {\n\t\n\tlet fontExportError = new Notification('MDG Font Manager', {\n\t\tbody: `An error occured whilst exporting the fonts.`\n\t})\n})\n\nipcRenderer.on('import-ok', (event, message) => {\n\t\n\tupdateLists()\n\t\n\tlet fontExportOk = new Notification('MDG Font Manager', {\n\t\tbody: `The fonts have been installed to: ${message}`\n\t})\n})\n\n\nipcRenderer.on('import-failed', () => {\n\t\n\tupdateLists()\n\t\n\tlet fontExportError = new Notification('MDG Font Manager', {\n\t\tbody: `An error occured whilst importing the fonts.`\n\t})\n})\n\nipcRenderer.on('update-path', () => {\n\t\n\t$('#active-list li, #disabled-list li').remove()\n\t$('#update-all').prop('disabled', true)\n\tpopulateFontLists()\n})\n\nipcRenderer.on('reload', () => {\n\t\n\tupdateLists()\n})\n\n\n//note(@duncanmid): show / hide bezel\n\nipcRenderer.on('display-bezel', (event, message) => {\n\t\n\t$('#overlay').html(`<div class=\"bezel\"><div class=\"inner\"><img src=\"../assets/svg/loader.svg\" width=\"75\" height=\"75\"><span>installing</span><span>${message}</span></div></div>`).fadeIn('fast')\n})\n\nipcRenderer.on('remove-bezel', (event, message) => {\n\n\tif( message !== 'font-not-installed' ) {\n\t\t\n\t\t$('#active-list li, #disabled-list li').remove()\n\t\t$('#update-all').prop('disabled', true)\n\t\tpopulateFontLists()\n\t\t$('#overlay').fadeOut('fast').empty()\n\t\t\t\n\t\tlet dir = store.get('fontDirectories.activePath')\n\t\t\n\t\tlet fontInstalled = new Notification('MDG Font Manager', {\n\t\t\tbody: `The font ${message} has been installed to ${dir}`\n\t\t})\n\t\n\t} else {\n\t\t\n\t\t$('#overlay').fadeOut('fast').empty()\n\t}\n})\n\n\n\n//note(@duncanmid): drag items in to window\n\nfunction setDragArea( id ) {\n\n\tlet dragArea = document.getElementById( id )\n\t\n\tlet draggedItems = {\n\t\t'location': id,\n\t\t'list': []\n\t}\n\t\n\tdragArea.ondragover = () => {\n\t\t\n\t\t$( dragArea ).addClass('dragover')\n\t\treturn false\n\t}\n\t\n\tdragArea.ondragleave = () => {\n\t\t\n\t\t$( dragArea ).removeClass('dragover')\n\t\treturn false\n\t}\n\t\n\tdragArea.ondragend = () => {\n\t\t\n\t\t$( dragArea ).removeClass('dragover')\n\t\treturn false\n\t}\n\t\n\tdragArea.ondrop = (event) => {\n\t\t\n\t\tevent.preventDefault()\n\t\t$( dragArea ).removeClass('dragover')\n\t\t\n\t\tlet files = []\n\t\t\n\t\tfor (let item of event.dataTransfer.files) {\n\t\t\t\n\t\t\tdraggedItems.list.push( item.path )\n\t\t}\n\t\t\n\t\tipcRenderer.send('import', draggedItems )\n\t\tdraggedItems.list = []\n\t}\n}\n\nsetDragArea( 'left-panel' )\nsetDragArea( 'right-panel' )\n\n\n\n//note(@duncanmid): search field\n\n// based on https://gist.github.com/dennysfredericci/ca99b08648649b545dfd\n\n$('#search').bind('keyup', function() {\n\n\tlet searchString = $(this).val()\n\t\n\t$('ul li').each(function(index, value) {\n\t\n\t\tlet currentName = $(value).text()\n\tif( currentName.toUpperCase().indexOf(searchString.toUpperCase()) > -1) {\n\t\t\t\n\t\t\t$(value).show()\n\t\n\t\t} else {\n\t\t\t\n\t\t\tif(!$(value).hasClass('selected')) {\n\t\t\t\t\t\n\t\t\t\t$(value).hide()\n\t\t\t}\n\t\t}\n\t})\n})\n"]}