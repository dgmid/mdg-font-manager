{"version":3,"sources":["app-menu.js"],"names":["electron","require","Menu","shell","app","BrowserWindow","path","loadJsonFile","name","getName","about","template","label","submenu","[object Object]","createAbout","type","accelerator","item","focusedWindow","webContents","send","role","emit","openItem","openExternal","process","platform","toggleDevTools","join","__dirname","then","json","i","len","length","push","menu","buildFromTemplate","setApplicationMenu"],"mappings":"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","file":"../app-menu.min.js","sourcesContent":["'use strict'\n\nconst electron = require('electron')\nconst {Menu, shell} = require('electron')\nconst app = electron.app\nconst BrowserWindow = electron.BrowserWindow\nconst path = require('path')\nconst loadJsonFile = require('load-json-file')\nconst name = app.getName()\nvar about = require('./about.min')\n\n\n\nconst template = [\n\t{\n\t\tlabel: name,\n\t\tsubmenu: [\n\t\t\t{\n\t\t\t\tlabel: 'About ' + name,\n\t\t\t\tclick() { about.createAbout() }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Preferences…',\n\t\t\t\taccelerator: 'Command+,',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('open-prefs') }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'services',\n\t\t\t\tsubmenu: []\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'hide'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'hideothers'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'unhide'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'quit'\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tlabel: 'Installed Fonts',\n\t\tsubmenu:\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: 'Select All Acitve Fonts',\n\t\t\t\taccelerator: 'Command+A',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('select-all', 'active') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Deselect All Active Fonts',\n\t\t\t\taccelerator: 'Shift+Command+A',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('deselect-all', 'active') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Toggle Active Font Selections',\n\t\t\t\taccelerator: 'Control+Command+A',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('toggle-selection', 'active') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Toggle Active Font Order',\n\t\t\t\taccelerator: 'Control+Alt+Command+A',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('reorder', ['active', '2']) }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Select All Disabled Fonts',\n\t\t\t\taccelerator: 'Command+D',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('select-all', 'disabled') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Deselect All Disabled Fonts',\n\t\t\t\taccelerator: 'Shift+Command+D',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('deselect-all', 'disabled') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Toggle Disabled Font Selections',\n\t\t\t\taccelerator: 'Control+Command+D',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('toggle-selection', 'disabled') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Toggle Disabled Font Order',\n\t\t\t\taccelerator: 'Control+Alt+Command+D',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('reorder', ['disabled', '2']) }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Find…',\n\t\t\t\taccelerator: 'Command+F',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('find') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Update Font Lists',\n\t\t\t\taccelerator: 'Command+U',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('update-lists') }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Export Selected Fonts',\n\t\t\t\taccelerator: 'Command+E',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('export-fonts') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Delete Selected Fonts',\n\t\t\t\taccelerator: 'Command+X',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('delete-fonts') }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Show Active Fonts Folder in Finder…',\n\t\t\t\taccelerator: 'Command+1',\n\t\t\t\tclick() { app.emit('open-folder', 'activePath')  }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Show Disabled Fonts Folder in Finder…',\n\t\t\t\taccelerator: 'Command+2',\n\t\t\t\tclick() { app.emit('open-folder', 'disabledPath') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Choose Active Fonts Folder…',\n\t\t\t\taccelerator: 'Command+3',\n\t\t\t\tclick() { app.emit('choose-folder', 'activePath') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Choose Disabled Fonts Folder…',\n\t\t\t\taccelerator: 'Command+4',\n\t\t\t\tclick() { app.emit('choose-folder', 'disabledPath') }\n\t\t\t}\n\t\t]  \n\t},\n\t{\n\t\tlabel: 'Tools',\n\t\tsubmenu:\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: 'Open Font Book…',\n\t\t\t\taccelerator: 'Alt+Cmd+F',\n\t\t\t\tclick () { require('electron').shell.openItem('/Applications/Font\\ Book.app/') }  \n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Browse Google Webfonts Helper…',\n\t\t\t\taccelerator: 'Ctrl+Alt+Cmd+G',\n\t\t\t\tclick () { require('electron').shell.openExternal('https://google-webfonts-helper.herokuapp.com/fonts') }  \n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Browse fonts.google.com…',\n\t\t\t\taccelerator: 'Alt+Cmd+G',\n\t\t\t\tclick () { require('electron').shell.openExternal('https://fonts.google.com') }  \n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Install Google Font…',\n\t\t\t\taccelerator: 'Cmd+G',\n\t\t\t\tsubmenu: [], \n\t\t\t},\n\t\t]\n\t},\n\t{\n\t\tlabel: 'View',\n\t\tsubmenu:\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: 'Reload',\n\t\t\t\taccelerator: 'CmdOrCtrl+R',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('reload') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Toggle Developer Tools',\n\t\t\t\taccelerator: process.platform === 'darwin' ? 'Alt+Command+I' : 'Ctrl+Shift+I',\n\t\t\t\tclick (item, focusedWindow) {\n\t\t\t\t\tif (focusedWindow) focusedWindow.webContents.toggleDevTools()\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'resetzoom'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'zoomin'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'zoomout'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'togglefullscreen'\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\trole: 'window',\n\t\tsubmenu:\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: 'Close',\n\t\t\t\taccelerator: 'CmdOrCtrl+W',\n\t\t\t\trole: 'close'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Minimize',\n\t\t\t\taccelerator: 'CmdOrCtrl+M',\n\t\t\t\trole: 'minimize'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Zoom',\n\t\t\t\trole: 'zoom'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Bring All to Front',\n\t\t\t\trole: 'front'\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\trole: 'help',\n\t\tsubmenu:\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: 'midwinter-dg.com',\n\t\t\t\tclick () { require('electron').shell.openExternal('https://www.midwinter-dg.com') }\n\t\t\t}\n\t\t]\n\t}\n]\n\n\n\nloadJsonFile( path.join(__dirname, '../json/google-font-list.json') ).then(json => {\n    \n\tfor (let i = 0, len = json.length; i < len; i++) {\n\t\t\n\t\ttemplate[2].submenu[5].submenu.push({\n\t\t\t\tlabel: json[i]['name'],\n\t\t\t\tclick () { app.emit('install-font', json[i]) }\n\t\t\t}\n\t\t)\n\t}\n\t\t\n\tconst menu = Menu.buildFromTemplate(template)\n\tMenu.setApplicationMenu(menu)\n})\n"]}