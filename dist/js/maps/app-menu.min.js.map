{"version":3,"sources":["app-menu.js"],"names":["electron","require","Menu","shell","app","BrowserWindow","path","loadJsonFile","name","getName","about","template","label","submenu","[object Object]","createAbout","type","role","accelerator","item","focusedWindow","webContents","send","emit","openItem","openExternal","reload","process","platform","toggleDevTools","join","__dirname","then","json","i","len","length","push","menu","buildFromTemplate","setApplicationMenu"],"mappings":"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","file":"../app-menu.min.js","sourcesContent":["'use strict'\n\nconst electron = require('electron')\nconst {Menu, shell} = require('electron')\nconst app = electron.app\nconst BrowserWindow = electron.BrowserWindow\nconst path = require('path')\nconst loadJsonFile = require('load-json-file')\nconst name = app.getName()\nvar about = require('./about.min')\n\n\n\nconst template = [\n\t{\n\t\tlabel: name,\n\t\tsubmenu: [\n\t\t\t{\n\t\t\t\tlabel: 'About ' + name,\n\t\t\t\tclick() { about.createAbout() }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'services',\n\t\t\t\tsubmenu: []\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'hide'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'hideothers'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'unhide'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'quit'\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tlabel: 'Installed Fonts',\n\t\tsubmenu:\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: 'Select All Acitve Fonts',\n\t\t\t\taccelerator: 'Command+A',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('select-all', 'active') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Deselect All Active Fonts',\n\t\t\t\taccelerator: 'Shift+Command+A',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('deselect-all', 'active') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Toggle Active Fonts',\n\t\t\t\taccelerator: 'Control+Command+A',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('toggle-selection', 'active') }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Select All Disabled Fonts',\n\t\t\t\taccelerator: 'Command+D',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('select-all', 'disabled') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Deselect All Disabled Fonts',\n\t\t\t\taccelerator: 'Shift+Command+D',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('deselect-all', 'disabled') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Toggle Disabled Fonts',\n\t\t\t\taccelerator: 'Control+Command+D',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('toggle-selection', 'disabled') }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Update Font Lists',\n\t\t\t\taccelerator: 'Command+U',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('update-lists') }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Export Selected Fonts',\n\t\t\t\taccelerator: 'Command+E',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('export-fonts') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Delete Selected Fonts',\n\t\t\t\taccelerator: 'Command+X',\n\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('delete-fonts') }\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Show Active Fonts Folder in Finder…',\n\t\t\t\taccelerator: 'Command+1',\n\t\t\t\tclick() { app.emit('open-folder', 'activePath')  }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Show Disabled Fonts Folder in Finder…',\n\t\t\t\taccelerator: 'Command+2',\n\t\t\t\tclick() { app.emit('open-folder', 'disabledPath') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Choose Active Fonts Folder…',\n\t\t\t\taccelerator: 'Command+3',\n\t\t\t\tclick() { app.emit('choose-folder', 'activePath') }\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Choose Disabled Fonts Folder…',\n\t\t\t\taccelerator: 'Command+4',\n\t\t\t\tclick() { app.emit('choose-folder', 'disabledPath') }\n\t\t\t}\n\t\t]  \n\t},\n\t{\n\t\tlabel: 'Tools',\n\t\tsubmenu:\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: 'Open Font Book…',\n\t\t\t\taccelerator: 'Alt+Cmd+F',\n\t\t\t\tclick () { require('electron').shell.openItem('/Applications/Font\\ Book.app/') }  \n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Browse Google Webfonts Helper…',\n\t\t\t\taccelerator: 'Ctrl+Alt+Cmd+G',\n\t\t\t\tclick () { require('electron').shell.openExternal('https://google-webfonts-helper.herokuapp.com/fonts') }  \n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Browse fonts.google.com…',\n\t\t\t\taccelerator: 'Alt+Cmd+G',\n\t\t\t\tclick () { require('electron').shell.openExternal('https://fonts.google.com') }  \n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Install Google Font…',\n\t\t\t\taccelerator: 'Cmd+G',\n\t\t\t\tsubmenu: [], \n\t\t\t},\n\t\t]\n\t},\n\t{\n\t\tlabel: 'View',\n\t\tsubmenu:\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: 'Reload',\n\t\t\t\taccelerator: 'CmdOrCtrl+R',\n\t\t\t\tclick (item, focusedWindow) {\n\t\t\t\t\tif (focusedWindow) focusedWindow.reload()\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Toggle Developer Tools',\n\t\t\t\taccelerator: process.platform === 'darwin' ? 'Alt+Command+I' : 'Ctrl+Shift+I',\n\t\t\t\tclick (item, focusedWindow) {\n\t\t\t\t\tif (focusedWindow) focusedWindow.webContents.toggleDevTools()\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'resetzoom'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'zoomin'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'zoomout'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\trole: 'togglefullscreen'\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\trole: 'window',\n\t\tsubmenu:\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: 'Close',\n\t\t\t\taccelerator: 'CmdOrCtrl+W',\n\t\t\t\trole: 'close'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Minimize',\n\t\t\t\taccelerator: 'CmdOrCtrl+M',\n\t\t\t\trole: 'minimize'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Zoom',\n\t\t\t\trole: 'zoom'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'separator'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Bring All to Front',\n\t\t\t\trole: 'front'\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\trole: 'help',\n\t\tsubmenu:\n\t\t[\n\t\t\t{\n\t\t\t\tlabel: 'midwinter-dg.com',\n\t\t\t\tclick () { require('electron').shell.openExternal('https://www.midwinter-dg.com') }\n\t\t\t}\n\t\t]\n\t}\n]\n\n\n\nloadJsonFile( path.join(__dirname, '../json/google-font-list.json') ).then(json => {\n    \n\tfor (let i = 0, len = json.length; i < len; i++) {\n\t\t\n\t\ttemplate[2].submenu[5].submenu.push({\n\t\t\t\tlabel: json[i]['name'],\n\t\t\t\tclick () { app.emit('install-font', json[i]) }\n\t\t\t}\n\t\t)\n\t}\n\t\t\n\tconst menu = Menu.buildFromTemplate(template)\n\tMenu.setApplicationMenu(menu)\n})\n"]}